<!DOCTYPE html>
<html>
<head>
	<title>Coordinate viewing test page</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	 <style>
	   html, body, #map {
	      height:100%;
	      width:100%;
	      padding:0px;
	      margin:0px;
	   } 
	</style>
	<script src="http://d3js.org/d3.v3.js" charset="utf-8"></script>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.ie.css" /><![endif]-->

	<link rel="stylesheet" href="../src/L.Control.Elevation.css" />

	<script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet-src.js"></script>
	<script type="text/javascript" src="include.js"></script>
</head>
<body>

	<div id="map"></div>

	<script type="text/javascript">
		var map = new L.Map('map');

		var url = 'http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg',
			attr ='Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',
			service = new L.TileLayer(url, {subdomains:"1234",attribution: attr});

		var bounds = new L.LatLngBounds(new L.LatLng(32, 7), new L.LatLng(50, 10));

		var geojson = {
			"type": "FeatureCollection",
			"features": [{
					"type": "Feature",
					"properties": {},
					"geometry": {
						"type": "LineString",
						"coordinates": []
					}
				}
			]
		};
		var coords =geojson.features[0].geometry.coordinates;
		var xspan =0.1, yspan = 0.1,zspan=5;
		for (var i=0; i<100; i++){
			zspan+=Math.random()*5+(i>25?-10:10);
			coords.push([Math.random()*xspan+5,Math.random()*yspan+50,zspan]);
		}
		var el = L.control.elevation();
		el.addTo(map);
		var gjl = L.geoJson(geojson,{
		    onEachFeature: el.addData.bind(el)
		}).addTo(map);

		map.addLayer(service).fitBounds(bounds);

		gjl.addData(geojson);
	</script>
</body>
</html>
